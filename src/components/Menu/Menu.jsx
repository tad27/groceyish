import React, { useState } from "react";
import TopBar from "./TopBar";
import { NavLink, useNavigate, useLocation } from "react-router-dom";

export default function Menu() {
  const [searchTerm, setSearchTerm] = useState("");
  const [menuOpen, setMenuOpen] = useState(false);

  // const location = useLocation();
  // const navigate = useNavigate();

  const handleMenuOpen = () => {
    setMenuOpen(!menuOpen);
  };
  return (
    <header className="w-full fixed top-0 bg-white/95 font-mono border-b border-brand-baseGreen shadow-md">
      <div className="container divide-y-2 divide-slate-100">
        <div className="py-2">
          <TopBar onClick={handleMenuOpen} />
        </div>

        {/* Bottom */}
        <div
          className={`flex flex-col gap-2 md:flex-row items-center justify-between h-0 md:h-full overflow-hidden md:p-2 ${
            menuOpen && "menu-open"
          }`}
        >
          <button className="btn hidden lg:flex items-center gap-2">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M2 3C2 2.44772 2.44772 2 3 2H10C10.5523 2 11 2.44772 11 3V10C11 10.5523 10.5523 11 10 11H3C2.44772 11 2 10.5523 2 10V3ZM4 4V9H9V4H4Z"
                fill="white"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M13 3C13 2.44772 13.4477 2 14 2H21C21.5523 2 22 2.44772 22 3V10C22 10.5523 21.5523 11 21 11H14C13.4477 11 13 10.5523 13 10V3ZM15 4V9H20V4H15Z"
                fill="white"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M13 14C13 13.4477 13.4477 13 14 13H21C21.5523 13 22 13.4477 22 14V21C22 21.5523 21.5523 22 21 22H14C13.4477 22 13 21.5523 13 21V14ZM15 15V20H20V15H15Z"
                fill="white"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M2 14C2 13.4477 2.44772 13 3 13H10C10.5523 13 11 13.4477 11 14V21C11 21.5523 10.5523 22 10 22H3C2.44772 22 2 21.5523 2 21V14ZM4 15V20H9V15H4Z"
                fill="white"
              />
            </svg>

            <span className="text-base hidden xl:block">
              Browse All Categories
            </span>
          </button>
          <nav className="w-full md:w-auto">
            <ul className="flex flex-col justify-center items-center gap-2 md:flex-row md:space-x-4 text-sm">
              <li className="w-full md:w-auto">
                <NavLink
                  className={`${(item) =>
                    item.isActive} pl-2 md:pl-0 py-2 md:py-0 hover:bg-brand-lightGreen md:hover:bg-transparent flex items-center gap-1`}
                  onClick={() => setMenuOpen(false)}
                  to="/"
                >
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M9.48825 1.00879C9.78917 0.774738 10.2105 0.774738 10.5114 1.00879L18.0114 6.84213C18.2144 7 18.3332 7.24276 18.3332 7.49992V16.6666C18.3332 17.3297 18.0698 17.9655 17.6009 18.4343C17.1321 18.9032 16.4963 19.1666 15.8332 19.1666H4.1665C3.50346 19.1666 2.86758 18.9032 2.39874 18.4343C1.9299 17.9655 1.6665 17.3297 1.6665 16.6666V7.49992C1.6665 7.24276 1.78523 7 1.98822 6.84213L9.48825 1.00879ZM3.33317 7.90749V16.6666C3.33317 16.8876 3.42097 17.0996 3.57725 17.2558C3.73353 17.4121 3.94549 17.4999 4.1665 17.4999H15.8332C16.0542 17.4999 16.2662 17.4121 16.4224 17.2558C16.5787 17.0996 16.6665 16.8876 16.6665 16.6666V7.90749L9.99984 2.7223L3.33317 7.90749Z"
                      fill="#253D4E"
                    />
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M6.6665 10.0001C6.6665 9.53983 7.0396 9.16675 7.49984 9.16675H12.4998C12.9601 9.16675 13.3332 9.53983 13.3332 10.0001V18.3334C13.3332 18.7937 12.9601 19.1667 12.4998 19.1667C12.0396 19.1667 11.6665 18.7937 11.6665 18.3334V10.8334H8.33317V18.3334C8.33317 18.7937 7.96007 19.1667 7.49984 19.1667C7.0396 19.1667 6.6665 18.7937 6.6665 18.3334V10.0001Z"
                      fill="#253D4E"
                    />
                  </svg>
                  <span>Home</span>
                </NavLink>
              </li>
              <li className="w-full md:w-auto">
                <NavLink
                  className={`${(item) =>
                    item.isActive} pl-2 md:pl-0 py-2 md:py-0 hover:bg-brand-lightGreen md:hover:bg-transparent flex items-center gap-1`}
                  onClick={() => setMenuOpen(false)}
                  to="/hot-deals"
                >
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M13.0157 3.72435C12.0633 2.91721 11.0823 2.0799 10.0895 1.09023L9.52359 0.52832L8.96803 1.09102C7.18073 2.88309 6.33628 5.63467 5.96961 7.28547C5.68896 6.85047 5.4807 6.37284 5.35295 5.87118L5.01723 4.57514L4.04104 5.49261C2.33073 7.09816 1.19025 8.69102 1.19025 11.2418C1.17428 13.0817 1.77352 14.8742 2.8928 16.3346C4.01208 17.7948 5.58721 18.8394 7.36803 19.3022C7.9046 19.4326 8.45224 19.5124 9.00375 19.5403C9.17618 19.5621 9.34978 19.5734 9.52359 19.5744C9.61482 19.5744 9.70378 19.5665 9.79263 19.5608C11.9546 19.4958 14.0063 18.5908 15.5119 17.0379C17.0175 15.4849 17.8587 13.4064 17.8569 11.2434C17.8569 7.83547 15.6133 5.9307 13.0157 3.72435ZM9.68235 17.9736C9.60292 17.9736 9.52359 17.9815 9.43945 17.9807C8.72511 17.9588 8.04722 17.6602 7.54902 17.1478C7.05083 16.6354 6.77134 15.9493 6.76961 15.2346C6.76961 14.2284 7.3093 13.7267 8.53073 12.687C8.83866 12.4251 9.17359 12.1403 9.52597 11.8141C9.83473 12.0942 10.1347 12.3482 10.4117 12.5839C11.6386 13.6251 12.2791 14.2165 12.2791 15.2323C12.2778 15.9343 12.0082 16.6092 11.5254 17.1188C11.0425 17.6285 10.3832 17.9343 9.68235 17.9736ZM13.6664 16.568L13.6505 16.5791C13.793 16.1451 13.8659 15.6914 13.8664 15.2346C13.8664 13.437 12.6871 12.4355 11.4395 11.376C10.9974 11.0013 10.541 10.6141 10.0855 10.1585L9.52359 9.59741L8.96247 10.1585C8.44819 10.672 7.94501 11.1006 7.50136 11.4784C6.25692 12.537 5.18152 13.4522 5.18152 15.2346C5.18321 15.711 5.26366 16.1838 5.41961 16.6339C4.59347 15.9995 3.92515 15.1827 3.46683 14.2474C3.00852 13.3121 2.77261 12.2834 2.77756 11.2418C2.7645 9.84912 3.30354 8.50794 4.27676 7.51166C4.4444 7.85175 4.64313 8.17562 4.87041 8.47911C5.03641 8.70311 5.26433 8.87365 5.52607 8.96969C5.78781 9.06572 6.07194 9.08307 6.34342 9.01959C6.6196 8.95811 6.87223 8.81837 7.0711 8.61711C7.26998 8.41585 7.40667 8.16156 7.46485 7.88467C7.79717 6.06058 8.5159 4.32869 9.57282 2.8053C10.4101 3.59895 11.2395 4.30133 11.9879 4.93705C14.4736 7.04816 16.2736 8.57356 16.2736 11.2466C16.2755 12.2741 16.0414 13.2883 15.5892 14.2109C15.137 15.1336 14.4789 15.94 13.6657 16.568H13.6664Z"
                      fill="#253D4E"
                    />
                  </svg>
                  <span>Hot deals</span>
                </NavLink>
              </li>
              <li className="w-full md:w-auto">
                <NavLink
                  className={`${(item) =>
                    item.isActive} pl-2 md:pl-0 py-2 md:py-0 hover:bg-brand-lightGreen md:hover:bg-transparent flex items-center gap-1`}
                  onClick={() => setMenuOpen(false)}
                  to="/promotions"
                >
                  <svg
                    width="21"
                    height="20"
                    viewBox="0 0 21 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M16.4706 3.57733C16.796 3.90277 16.796 4.4304 16.4706 4.75584L4.80394 16.4225C4.4785 16.7479 3.95086 16.7479 3.62543 16.4225C3.29999 16.0971 3.29999 15.5694 3.62543 15.244L15.2921 3.57733C15.6175 3.25189 16.1452 3.25189 16.4706 3.57733Z"
                      fill="#253D4E"
                    />
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M5.46452 4.16667C4.77416 4.16667 4.21452 4.72631 4.21452 5.41667C4.21452 6.10702 4.77416 6.66667 5.46452 6.66667C6.15487 6.66667 6.71452 6.10702 6.71452 5.41667C6.71452 4.72631 6.15487 4.16667 5.46452 4.16667ZM2.54785 5.41667C2.54785 3.80584 3.85369 2.5 5.46452 2.5C7.07535 2.5 8.38118 3.80584 8.38118 5.41667C8.38118 7.0275 7.07535 8.33333 5.46452 8.33333C3.85369 8.33333 2.54785 7.0275 2.54785 5.41667Z"
                      fill="#253D4E"
                    />
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M14.631 13.3334C13.9407 13.3334 13.381 13.8931 13.381 14.5834C13.381 15.2738 13.9407 15.8334 14.631 15.8334C15.3214 15.8334 15.881 15.2738 15.881 14.5834C15.881 13.8931 15.3214 13.3334 14.631 13.3334ZM11.7144 14.5834C11.7144 12.9726 13.0202 11.6667 14.631 11.6667C16.2419 11.6667 17.5477 12.9726 17.5477 14.5834C17.5477 16.1942 16.2419 17.5001 14.631 17.5001C13.0202 17.5001 11.7144 16.1942 11.7144 14.5834Z"
                      fill="#253D4E"
                    />
                  </svg>
                  <span>Promotions</span>
                </NavLink>
              </li>
              <li className="w-full md:w-auto">
                <NavLink
                  className={`${(item) =>
                    item.isActive} pl-2 md:pl-0 py-2 md:py-0 hover:bg-brand-lightGreen md:hover:bg-transparent flex items-center gap-1`}
                  onClick={() => setMenuOpen(false)}
                  to="/new-products"
                >
                  <svg
                    width="21"
                    height="20"
                    viewBox="0 0 21 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M18.052 4.33665C18.2593 4.49423 18.381 4.73967 18.381 5.00009V15.0001C18.381 15.2529 18.2663 15.492 18.0691 15.6501C17.872 15.8083 17.6137 15.8684 17.3669 15.8136L2.36691 12.4802C1.98563 12.3955 1.71436 12.0573 1.71436 11.6668V9.16676C1.71436 8.79242 1.96397 8.46401 2.32465 8.36382L17.3247 4.19716C17.5756 4.12746 17.8446 4.17906 18.052 4.33665ZM3.38102 9.80016V10.9983L16.7144 13.9612V6.09646L3.38102 9.80016Z"
                      fill="#253D4E"
                    />
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M5.10273 11.8632C5.54639 11.9856 5.80684 12.4445 5.68445 12.8882C5.626 13.1 5.60986 13.3213 5.63694 13.5394C5.66402 13.7575 5.7338 13.9682 5.84228 14.1593C5.95077 14.3505 6.09584 14.5184 6.26921 14.6534C6.44258 14.7885 6.64086 14.8881 6.85273 14.9466C7.0646 15.005 7.2859 15.0211 7.50401 14.9941C7.72211 14.967 7.93275 14.8972 8.12389 14.7887C8.31503 14.6802 8.48293 14.5352 8.618 14.3618C8.75308 14.1884 8.85268 13.9901 8.91113 13.7783C9.03352 13.3346 9.4924 13.0742 9.93606 13.1966C10.3797 13.3189 10.6402 13.7778 10.5178 14.2215C10.4011 14.6443 10.2023 15.0401 9.93275 15.3861C9.66316 15.7321 9.32805 16.0217 8.94656 16.2382C8.56508 16.4547 8.14468 16.594 7.70937 16.648C7.27406 16.7021 6.83237 16.6699 6.40951 16.5532C5.98666 16.4366 5.59092 16.2378 5.24489 15.9682C4.89886 15.6986 4.60932 15.3635 4.3928 14.982C4.17628 14.6005 4.03702 14.1801 3.98297 13.7448C3.92892 13.3095 3.96114 12.8678 4.07779 12.4449C4.20018 12.0013 4.65906 11.7408 5.10273 11.8632Z"
                      fill="#253D4E"
                    />
                  </svg>
                  <span>New Products</span>
                </NavLink>
              </li>
            </ul>
          </nav>

          <div className="call hidden lg:flex items-center gap-2">
            <a
              className="text-brand-baseGreen font-semibold text-sm flex gap-1 items-center"
              href="tel:+123-456-7890"
            >
              <svg
                width="21"
                height="20"
                viewBox="0 0 21 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M3.26436 3.40662L3.32482 3.34344C4.931 1.73711 5.97697 1.31134 7.09298 1.9531C7.41401 2.13771 7.71497 2.39611 8.12421 2.81176L9.37952 4.11344C10.0729 4.87002 10.2305 5.59573 10.0047 6.44562L9.97363 6.55814L9.93911 6.67001L9.77129 7.16237C9.41212 8.26652 9.56207 8.88948 10.84 10.1671C12.1689 11.4956 12.7892 11.6043 13.9785 11.1887L14.1905 11.1151L14.4468 11.0318L14.559 11.0007C15.4624 10.7597 16.2255 10.952 17.0348 11.7608L18.0462 12.7377L18.3439 13.0306C18.674 13.3672 18.8922 13.6339 19.0533 13.9158C19.6911 15.0315 19.2649 16.0768 17.6124 17.7232L17.4552 17.8825C17.2084 18.1203 16.9779 18.2906 16.6393 18.4514C16.0708 18.7213 15.3993 18.8231 14.6189 18.7145C12.696 18.4471 10.2572 16.9299 7.167 13.8405C6.91544 13.589 6.67451 13.3423 6.44397 13.1005L5.99666 12.6231C1.80512 8.06912 1.43534 5.27165 3.15308 3.51717L3.26436 3.40662ZM7.11244 3.56752C6.84095 3.29986 6.64373 3.13669 6.46986 3.03671C6.08526 2.81555 5.67001 2.90903 4.90151 3.57048L4.66004 3.7862C4.61792 3.82508 4.57483 3.86544 4.53075 3.90732L4.25385 4.17701L4.22891 4.20818L4.04119 4.39677C3.58756 4.86012 3.37269 5.42561 3.55785 6.39814C3.86169 7.99399 5.25245 10.1589 8.05077 12.9565C10.9665 15.8715 13.1881 17.2535 14.7911 17.4764C15.7256 17.6064 16.2023 17.3801 16.6884 16.8821L17.0591 16.508C17.2329 16.3261 17.3815 16.1612 17.5069 16.0106L17.678 15.795C18.1152 15.2126 18.1551 14.8633 17.9681 14.5361C17.897 14.4117 17.7935 14.2752 17.6428 14.1084L17.4385 13.8926L17.3175 13.7716L16.0415 12.5394C15.6151 12.1462 15.3237 12.0904 14.8812 12.2084L14.7535 12.2452L14.2249 12.4246C12.6915 12.9198 11.5853 12.6797 9.95621 11.0511C8.26901 9.36429 8.07114 8.23789 8.63645 6.61606L8.67271 6.51184L8.773 6.20969L8.82229 6.01711C8.90971 5.59797 8.80991 5.30573 8.35934 4.85509C8.34079 4.83654 8.32005 4.81563 8.29749 4.79275L7.11244 3.56752Z"
                  fill="#3BB77E"
                />
              </svg>
              <span>123-456-7890</span>
            </a>
            <p className="text-xs">24/7 support center</p>
          </div>
        </div>
      </div>
    </header>
  );
}
